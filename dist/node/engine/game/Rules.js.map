{"version":3,"sources":["engine/game/Rules.js"],"names":["Rules","game","lastTopCard","chosenSuit","emit","letTopCardAffectPlayer","call","letPlayerPlay","Promise","resolve","activePlayers","find","player","hand","cardCount","topCard","playingStack","peekAtTopCard","suit","pickCards","card","rank","queen","cards","filter","checkNewTopCard","ace","seven","drawTwoCards","currentPlayer","drawCard","playCard","then","undefined"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;;;;;;;;;AAEA;;IAEMA,K;;;;;;;;;;;+BAEOC,I,EAAM;AACf,WAAKA,IAAL,GAAYA,IAAZ;AACA,WAAKC,WAAL,GAAmB,IAAnB;AACA,WAAKC,UAAL,GAAkB,IAAlB;AACD;;;+BAcU;AACT,WAAKC,IAAL,CAAU,gBAAV;AACA,UAAIC,uBAAuBC,IAAvB,CAA4B,IAA5B,CAAJ,EAAuC;AACrC,eAAOC,cAAcD,IAAd,CAAmB,IAAnB,CAAP;AACD;AACD,aAAOE,QAAQC,OAAR,EAAP;AACD;;;8BAES;AACR,aAAO,KAAKR,IAAL,CAAUS,aAAV,CAAwBC,IAAxB,CAA6B,UAAUC,MAAV,EAAkB;AACpD,eAAOA,OAAOC,IAAP,CAAYC,SAAZ,KAA0B,CAAjC;AACD,OAFM,CAAP;AAGD;;;sCAEiBD,I,EAAM;AACtB,UAAIE,UAAU,KAAKd,IAAL,CAAUe,YAAV,CAAuBC,aAAvB,EAAd;AAAA,UACId,aAAa,KAAKA,UAAL,IAAmBY,QAAQG,IAD5C;AAEA,aAAOL,KAAKM,SAAL,CAAe,UAAUC,IAAV,EAAgB;AACpC,eAAOA,KAAKF,IAAL,KAAcf,UAAd,IACAiB,KAAKC,IAAL,KAAcN,QAAQM,IADtB,IAEAD,KAAKC,IAAL,KAAc,gBAAMC,KAF3B;AAGD,OAJM,CAAP;AAKD;;;6CAEwBC,K,EAAOL,I,EAAM;AACpC,aAAOK,MAAMC,MAAN,CAAa,UAAUJ,IAAV,EAAgB;AAClC,eAAOA,KAAKF,IAAL,KAAcA,IAAd,IACAE,KAAKC,IAAL,KAAc,gBAAMC,KAD3B;AAED,OAHM,CAAP;AAID;;;wBAzC2B;AAC1B,aAAO,CAAP;AACD;;;wBAE2B;AAC1B,aAAO,CAAP;AACD;;;wBAE0B;AACzB,aAAO,IAAP;AACD;;;;;;AAmCH,SAASjB,sBAAT,GAAkC;AAChC,MAAIU,UAAUU,gBAAgBnB,IAAhB,CAAqB,IAArB,CAAd;AACA;AACA;AACA,MAAIS,OAAJ,EAAa;AACX;AACA;AACA,QAAIA,QAAQM,IAAR,KAAiB,gBAAMC,KAA3B,EAAkC;AAChC,WAAKnB,UAAL,GAAkB,IAAlB;AACD;;AAED;AACA,QAAIY,QAAQM,IAAR,KAAiB,gBAAMK,GAA3B,EAAgC;AAC9B,WAAKtB,IAAL,CAAU,YAAV;AACA,aAAO,KAAP;AACD;;AAED;AACA,QAAIW,QAAQM,IAAR,KAAiB,gBAAMM,KAA3B,EAAkC;AAChCC,mBAAatB,IAAb,CAAkB,IAAlB;AACA,aAAO,KAAP;AACD;AACF;;AAED,SAAO,IAAP;AACD;;AAED,SAASmB,eAAT,GAA2B;AACzB,MAAIV,UAAU,KAAKd,IAAL,CAAUe,YAAV,CAAuBC,aAAvB,EAAd;AACA;AACA;AACA,MAAIF,YAAY,KAAKb,WAArB,EAAkC;AAChC,WAAO,KAAKA,WAAL,GAAmBa,OAA1B;AACD;AACF;;AAED,SAASa,YAAT,GAAwB;AACtB,MAAIhB,SAAS,KAAKX,IAAL,CAAU4B,aAAvB;AACA,OAAKzB,IAAL,CAAU,eAAV;AACAQ,SAAOkB,QAAP;AACAlB,SAAOkB,QAAP;AACD;;AAED,SAASvB,aAAT,GAAyB;AACvB,MAAIK,SAAS,KAAKX,IAAL,CAAU4B,aAAvB;AACA,SAAOjB,OAAOmB,QAAP,GAAkBC,IAAlB,CACHC,SADG,EAEH,YAAY;AACVrB,WAAOkB,QAAP;AACD,GAJE,CAAP;AAKD;;kBAEc9B,K","file":"Rules.js","sourceRoot":"../../../../src"}