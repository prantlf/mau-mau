{"version":3,"sources":["../../../../src/engine/game/Game.js"],"names":["_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","initializeRules","options","this","rules","_Rules2","attachGame","cardsPerPlayer","defaultCardsPerPlayer","playersPerPack","defaultPlayersPerPack","continueToEnd","undefined","defaultContinueToEnd","initializePlayers","_this3","players","forEach","player","push","activePlayers","slice","currentPlayerIndex","firstWinner","initializeDeck","deck","_Deck2","extraPacks","Math","trunc","length","putCardsToBottom","drawAllCards","drawingStack","_DrawingStack2","playingStack","_PlayingStack2","initializePrompt","prompt","checkForStacksTurnOver","cardCount","emit","topCard","drawCardFromTop","usedCards","shuffleCards","putCardOnTop","advanceToOtherPlayer","advanceFromPartialWinner","splice","cards","moveCount","random","shift","dealCards","drawCard","nextTurn","_this4","then","checkPartialWinner","freeze","setTimeout","bind","error","console","log","winner","whoWins","_createClass","defineProperties","target","props","i","descriptor","defineProperty","key","protoProps","staticProps","exports","_Deck","require","_DrawingStack","_PlayingStack","_Rules","_EventEmitter2","_EventEmitter3","Game","_EventEmitter","_this","getPrototypeOf","on","chooseCard","card","_this2","removeAllListeners","hand","get"],"mappings":"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","file":"engine/game/Game.js","sourceRoot":"."}