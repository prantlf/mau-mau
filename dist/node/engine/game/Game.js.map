{"version":3,"sources":["../../../../src/engine/game/Game.js"],"names":["_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","initializeRules","options","this","rules","_Rules2","attachGame","cardsPerPlayer","defaultCardsPerPlayer","playersPerPack","defaultPlayersPerPack","continueToEnd","undefined","defaultContinueToEnd","initializePlayers","_this3","players","forEach","player","push","activePlayers","slice","currentPlayerIndex","firstWinner","initializeDeck","deck","_Deck2","extraPacks","Math","trunc","length","putCardsToBottom","drawAllCards","drawingStack","_DrawingStack2","playingStack","_PlayingStack2","initializePrompt","prompt","checkForStacksTurnOver","cardCount","emit","usedCards","topCard","shift","shuffleCards","putCardOnTop","advanceToOtherPlayer","advanceFromPartialWinner","splice","cards","moveCount","random","dealCards","drawCard","nextTurn","_this4","then","checkPartialWinner","freeze","setTimeout","bind","error","console","log","winner","whoWins","_createClass","defineProperties","target","props","i","descriptor","defineProperty","key","protoProps","staticProps","exports","_Deck","require","_DrawingStack","_PlayingStack","_Rules","_EventEmitter2","_EventEmitter3","Game","_EventEmitter","_this","getPrototypeOf","on","drawCardFromTop","chooseCard","card","_this2","removeAllListeners","hand","get"],"mappings":"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","file":"engine/game/Game.js","sourceRoot":"."}